<!DOCTYPE html>

<html lang="pt-br">

<head>

  <meta charset="UTF-8">

  <title>Cadastro de Produtos</title>

  <!-- Importando tailwind via CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

  <!-- Importando intellisense tailwind (extensão) -->
  <style>

    @import "tailwindcss";

  </style>

</head>

<body class="flex flex-col">

  <h1 class="text-2xl text-center mt-5 mb-5">Cadastro de Produto</h1>

  <div class="w-[500px] mx-auto border-2 p-5 rounded-2xl flex flex-col">
      
      <label>Nome:</label>

      <input type="text" id="nome" class="border-2 rounded">
      
      <br>

      <label>Preço:</label>

      <input type="number" id="preco" step="0.01"class="border-2 rounded">
      
      <br>

      <label>Descrição:</label>

      <textarea id="descricao" rows="4" cols="30" class="border-2 rounded"></textarea>
      
      <br>

      <label>Disponível para venda:</label>

      <select id="disponivel" class="border-2 rounded">

        <option value="sim">Sim</option>

        <option value="nao">Não</option>

      </select>

      <button class="bg-green-500 w-50 self-center mt-5 mb-5 rounded-2xl p-3" onclick="cadastrarProduto()">Cadastrar</button>
      
  </div>

  <a href="listagem.html" class="bg-green-500 w-50 self-center text-center mt-5 mb-5 rounded-2xl p-3">Ir para a Listagem</a>

  <br>  

  <script>

    function cadastrarProduto() {

      const nome = document.getElementById("nome").value.trim();

      const preco = parseFloat(document.getElementById("preco").value);

      const descricao = document.getElementById("descricao").value.trim();

      const disponivel = document.getElementById("disponivel").value;

      if (!nome || isNaN(preco)) {

        alert("Preencha o nome e o preço corretamente.");

        return;

      }

      const novoProduto = {
        
        nome,

        preco,

        descricao,

        disponivel

      };

      let lista = JSON.parse(localStorage.getItem("produtos")) || [];

      lista.push(novoProduto);

      localStorage.setItem("produtos", JSON.stringify(lista));

      alert("Produto cadastrado com sucesso!");

      window.location.href = './listagem.html';

      // Limpar campos
      document.getElementById("nome").value = "";

      document.getElementById("preco").value = "";

      document.getElementById("descricao").value = "";

      document.getElementById("disponivel").value = "sim";

    }

  </script>

</body>

</html>